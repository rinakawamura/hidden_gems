<div class="page-wrap" >
    <h1><%= @location.name %></h1>
    <h2>Country: <%= @location.country.name%></h2>
    <p><%= @location.description %></p>

    <div class="show-page">

        <% if @location.image_url %>
            <%= image_tag @location.image_url %>
        <% else %>
            <%= image_tag("no-image.png") %>
        <% end %>
    </div>
    <br>
    <h4>Favorites: <%= @location.fav_users.count %></h4> 
    <% if session[:user_id] %>
        <% if @location.favorite?(session[:user_id]) %>
            <div class="unfavorite">
                <%= button_to "", "/favorites/destroy/#{session[:user_id]}/#{@location.id}", method: :delete, class: "unfavorite" %>
            </div>
        <% else %>
            <div class="favorite">
                <%= button_to "", "/favorites/new/#{session[:user_id]}/#{@location.id}", method: :get%>
            </div>
            <% end %>
    <% end %>

    <% if session[:user_id] == @location.owner.id %>
        <h4>Hidden Gem Added By... You!</h4>
        <%= button_to "Edit Hidden Gem", edit_location_path, method: :get %>
    <% else %>
    <h4>Hidden Gem Added By <%= link_to @location.owner.full_name, user_path(@location.owner) %></h4>
    <% end %>

</div>